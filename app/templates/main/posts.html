{% extends "includes/layout.html" %}
{% block title %}Posts{% endblock %}
{% block content %}

<!-- Display Flash Messages -->
{% for message in get_flashed_messages() %}
<div class="alert alert-warning alert-dismissible fade show" role="alert">
    {{ message }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endfor %}

<h1>Posts</h1>
<br/>
<div class="shadow p-3 mb-5 bg-body rounded">
    <!-- Filter and Sort Form -->
    <form id="filter-sort-form" class="mb-4">
        <div class="mb-3">
            <label for="filter_by" class="form-label">Filter By</label>
            <select class="form-control" id="filter_by" name="filter_by">
                <option value="author" selected>Author</option>
                <option value="title">Title</option>
                <option value="tag">Tag</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="filter_value" class="form-label">Filter Value</label>
            <input type="text" class="form-control" id="filter_value" name="filter_value">
        </div>
        <div class="mb-3">
            <label for="order" class="form-label">Order</label>
            <select class="form-control" id="order" name="order">
                <option value="asc">Ascending</option>
                <option value="desc">Descending</option>
            </select>
        </div>
    </form>

    <!-- Posts List -->
    <ul class="list-group" id="posts-list">
        <!-- Posts will be dynamically inserted here -->
    </ul>
</div>

{% endblock %}

{% block scripts %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script src="{{ url_for('static', filename='js/posts.js') }}"></script>
{% endblock %}
